<%= error_explanation(@user) %>

<div class="form_block">
  <%= form_for(@user, html: {:multipart => true }) do |f| %>
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group">
          <%= f.label :first_name, :class => 'control-label' %>
          <%= f.text_field :first_name, :class => 'form-control' %>
        </div>
      </div><!-- col -->
      <div class="col-sm-6">
        <div class="form-group">
          <%= f.label :last_name, :class => 'control-label' %>
          <%= f.text_field :last_name, :class => 'form-control' %>
        </div>
      </div><!-- col -->
    </div><!-- row-->

    <div class="row">
      <div class="col-sm-6">
        <div class="form-group">
          <%= f.label :email, :class => 'control-label' %>
          <%= f.email_field :email, autofocus: true, :class => 'form-control' %>
        </div>
      </div><!-- col -->

      <div class="col-sm-6">
        <div class="form-group">
          <%= f.label :level, :class => 'control-label' %>
          <%= f.select :level, array_for_select(User::AFFILIATED_LEVELS, @user.level), {}, :class => 'form-control' %>
        </div>
      </div><!-- col -->
    </div><!-- row -->

    <div class="row">
      <div class="col-sm-6">
        <div class="form-group">
          <%= f.label :skills, :class => 'control-label' %>
          <%= f.select :skills, array_for_select(User::SKILLS, @user.skills), {}, :multiple => true, :size => 5, :class => 'form-control' %>
        </div>
      </div><!-- col -->
    </div><!-- row -->

    <div class="row">
      <div class="col-12">
        <%= image_select f, @user, :avatar, :version => :show %>
      </div><!-- col -->
    </div><!-- row -->

    <div class="row">
      <div class="col-lg-12">
        <div class="form-group">
          <%= f.submit :class => 'btn btn-primary' %>

          <% if @user.new_record? %>
            <%= f.hidden_field :password, :val => User.temporary_password %>
          <% else %>
            <%= link_to "Delete", user_path(@user), :class => 'btn btn-danger',
                      data: { confirm: "Are you sure? This action is permanent!" }, method: :delete %></p>
          <% end %>
        </div>

      </div><!-- col -->
    </div><!-- row -->
  <% end %>

</div>
